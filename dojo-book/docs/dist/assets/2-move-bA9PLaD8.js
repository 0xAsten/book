import{u as l,j as i}from"./index-B0rG63LL.js";const a={title:"2 Move function",description:"undefined"};function h(e){const s={a:"a",code:"code",div:"div",figure:"figure",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",ul:"ul",...l(),...e.components};return i.jsxs(i.Fragment,{children:[i.jsx(s.header,{children:i.jsxs(s.h1,{id:"2-move-function",children:["2 Move function",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#2-move-function",children:i.jsx(s.div,{"data-autolink-icon":!0})})]})}),`
`,i.jsxs(s.ol,{children:[`
`,i.jsxs(s.li,{children:["Write a ",i.jsx(s.code,{children:"move"})," function that accepts the ",i.jsx(s.code,{children:"current position"}),", ",i.jsx(s.code,{children:"next position"}),", ",i.jsx(s.code,{children:"caller address"}),", and ",i.jsx(s.code,{children:"game_id"}),". The ",i.jsx(s.code,{children:"move"})," function should look like this:"]}),`
`]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"c","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"c","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    #["}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"abi"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(embed_v0)]"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    impl PlayerActionsImpl of IActions"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"<"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"ContractState"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:">"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        fn "}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"spawn"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            self: @ContractState, white_address: ContractAddress, black_address: ContractAddress"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        ) -> u32 {"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"            // Rest of code"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        }"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        fn "}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"move"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            self: @ContractState,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            curr_position: Vec2,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            next_position: Vec2,"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            caller: ContractAddress,"}),i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:" //player"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            game_id: u32"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        ) {"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            let world "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" self.world_dispatcher."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"read"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"();"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            let mut current_piece "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (game_id, curr_position), (Piece));"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"            // check if next_position is out of board or not"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"            assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"PieceTrait::is_out_of_board"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(next_position), "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'Should be inside board'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"            // check if this is the right move for this piece type"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"            assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"                current_piece."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"is_right_piece_move"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(next_position), "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'Illegal move for type of piece'"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            );"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"            // Get piece data from to next_position in the board"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            let mut next_position_piece "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (game_id, next_position), (Piece));"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            let player "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (game_id, caller), (Player));"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"            // check if there is already a piece in next_position"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"            assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"                next_position_piece.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::None"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"                    ||"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" player."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"is_not_my_piece"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(next_position_piece.color),"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"                'Already same color piece exist'"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            );"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            next_position_piece.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" current_piece.piece_type;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            next_position_piece.color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" player.color;"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"            // make current_piece piece none"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            current_piece.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::None;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            current_piece.color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Color::None;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            set"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (next_position_piece));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            set"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (current_piece));"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"            // change turn"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            let mut game_turn "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, game_id, (GameTurn));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            game_turn.player_color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" game_turn."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"next_turn"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"();"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            set"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (game_turn));"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    }"})})]})})}),`
`,i.jsxs(s.ol,{start:"2",children:[`
`,i.jsxs(s.li,{children:[`
`,i.jsxs(s.p,{children:["Run ",i.jsx(s.code,{children:"sozo build"})," to compile the code."]}),`
`,i.jsx(s.p,{children:"Great, Now we can start testing our functions"}),`
`]}),`
`]}),`
`,i.jsxs(s.h2,{id:"test-flow",children:["Test Flow",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#test-flow",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:["Spawn the test world (",i.jsx(s.code,{children:"spawn_test_world"}),") that imports the models in testing."]}),`
`,i.jsx(s.li,{children:"Deploy actions contract"}),`
`,i.jsxs(s.li,{children:["Interact with ",i.jsx(s.code,{children:"spawn"})," function in the ",i.jsx(s.code,{children:"actions"})," contract by providing white and black player's wallet addresses as inputs."]}),`
`,i.jsxs(s.li,{children:["Retrieve the game entity and piece entity created in ",i.jsx(s.code,{children:"actions"})," contract."]}),`
`,i.jsx(s.li,{children:"Ensure the game has been correctly created."}),`
`,i.jsxs(s.li,{children:["Verify that each ",i.jsx(s.code,{children:"Piece"})," is located in the correct position."]}),`
`]}),`
`,i.jsxs(s.h2,{id:"unit-tests",children:["Unit Tests",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#unit-tests",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.ul,{children:[`
`,i.jsxs(s.li,{children:["Copy the test below and add it to your ",i.jsx(s.code,{children:"tests/units.cairo"})," file."]}),`
`]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"c","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"c","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"#["}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"cfg"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(test)]"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"mod tests {"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    use starknet::ContractAddress;"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    use dojo::test_utils::{spawn_test_world, deploy_contract};"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    use dojo::world::{IWorldDispatcher, IWorldDispatcherTrait};"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    use chess::models::player::{Player, Color, player};"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    use chess::models::piece::{Piece, PieceType, Vec2, piece};"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    use chess::models::game::{Game, GameTurn, game, game_turn};"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    use chess::actions::{actions, IActionsDispatcher, IActionsDispatcherTrait};"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"    // helper setup function"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    fn "}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"setup_world"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"() "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"->"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" (IWorldDispatcher, IActionsDispatcher) {"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"        // models"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let mut models "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" array"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"["})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            game::TEST_CLASS_HASH,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            player::TEST_CLASS_HASH,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            game_turn::TEST_CLASS_HASH,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            piece::TEST_CLASS_HASH"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        ];"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"        // deploy world with models"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let world "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" spawn_test_world"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(models);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"        // deploy systems contract"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let contract_address "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" world"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"            ."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"deploy_contract"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'salt'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:", actions::TEST_CLASS_HASH."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"try_into"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"()."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"unwrap"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"());"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let actions_system "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" IActionsDispatcher { contract_address };"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        (world, actions_system)"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    }"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    #[test]"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    #["}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"available_gas"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"3000000000000000"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:")]"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    fn "}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"test_spawn"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"() {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let white "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" starknet::contract_address_const::"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"<0x"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"01"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:">"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"();"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let black "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" starknet::contract_address_const::"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"<0x"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"02"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:">"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"();"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        let"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" (world, actions_system) "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" setup_world"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"();"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"        //system calls"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let game_id "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" actions_system."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"spawn"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(white, black);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"        //get game"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let game "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, game_id, (Game));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let game_turn "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, game_id, (GameTurn));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(game_turn.player_color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Color::White, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be white turn'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(game.white "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" white, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'white address is incorrect'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(game.black "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" black, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'black address is incorrect'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"        //get a1 piece"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let curr_pos "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Vec2 { x: "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"0"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:", y: "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"0"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" };"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let a1 "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (game_id, curr_pos), (Piece));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(a1.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::Rook, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be Rook'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(a1.color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Color::White, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be white color'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(a1.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::None, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should have piece'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    }"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    #[test]"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    #["}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"available_gas"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"("}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"3000000000000000"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:")]"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    fn "}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"test_move"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"() {"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let white "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" starknet::contract_address_const::"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"<0x"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"01"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:">"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"();"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let black "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" starknet::contract_address_const::"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"<0x"}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"02"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:">"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"();"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        let"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" (world, actions_system) "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:" setup_world"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"();"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let game_id "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" actions_system."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"spawn"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(white, black);"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let curr_pos "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Vec2 { x: "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"0"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:", y: "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"1"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" };"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let a2 "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (game_id, curr_pos), (Piece));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(a2.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::Pawn, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be Pawn'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(a2.color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Color::White, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be white color piece 1'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(a2.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::None, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should have piece'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let next_pos "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Vec2 { x: "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"0"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:", y: "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"2"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" };"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let game_turn "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, game_id, (GameTurn));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(game_turn.player_color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Color::White, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be white player turn'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        actions_system."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"move"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(curr_pos, next_pos, white."}),i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"into"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(), game_id);"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let curr_pos "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" next_pos;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let c3 "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (game_id, curr_pos), (Piece));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(c3.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::Pawn, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be Pawn'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(c3.color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Color::White, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be white color piece 2'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(c3.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::None, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should have piece'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"        let game_turn "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, game_id, (GameTurn));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"        assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(game_turn.player_color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Color::Black, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be black player turn'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    }"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"}"})})]})})}),`
`,i.jsxs(s.h2,{id:"diving-into-the-code",children:["Diving into the Code",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#diving-into-the-code",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.h3,{id:"setup_world",children:["setup_world",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#setup_world",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.p,{children:["We should list all models with each having CLASS_HASH as elements and then we deploy world to models with ",i.jsx(s.code,{children:"spawn_test_world"})]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    //models"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    let mut models = array!["})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"            game::TEST_CLASS_HASH,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"            player::TEST_CLASS_HASH,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"            game_turn::TEST_CLASS_HASH,"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"            piece::TEST_CLASS_HASH"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"        ];"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    // deploy world with models"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    let world = spawn_test_world(models);"})})]})})}),`
`,i.jsxs(s.p,{children:["After that, we deploy our system contracts, then we return our ",i.jsx(s.code,{children:"world"})," and ",i.jsx(s.code,{children:"actions_systems"})," dispatchers."]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    let contract_address = world"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"        .deploy_contract('salt', actions::TEST_CLASS_HASH.try_into().unwrap());"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    let actions_system = IActionsDispatcher { contract_address };"})}),`
`,i.jsx(s.span,{"data-line":"",children:" "}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    (world, actions_system)"})})]})})}),`
`,i.jsxs(s.h3,{id:"test_spawn",children:["test_spawn",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#test_spawn",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsx(s.p,{children:"First, we'll set up the players address and their colors."}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    let white = starknet::contract_address_const::<0x01>();"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    let black = starknet::contract_address_const::<0x02>();"})})]})})}),`
`,i.jsxs(s.p,{children:["We use ",i.jsx(s.code,{children:"spawn"})," function in ",i.jsx(s.code,{children:"actions.cairo"})," to put our pieces on the board. Each square position holds a piece. The system's ",i.jsx(s.code,{children:"spawn"})," function needs some input i.e the addresses of the players."]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    // spawn"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    let game_id = actions_system.spawn(white, black);"})})]})})}),`
`,i.jsxs(s.p,{children:["Then we check if the players got their setup address. After that we check if a White rook is at (0,0). Remember, to get a piece that exists on the position, you need to use the keys of the ",i.jsx(s.code,{children:"Piece"})," model, which are ",i.jsx(s.code,{children:"game_id"}),", and ",i.jsx(s.code,{children:"curr_pos"}),"."]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"c","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"c","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{style:{"--shiki-dark":"#768390","--shiki-light":"#6A737D"},children:"    //get a1 square"})}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    let curr_pos "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Vec2 { x: "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"0"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:", y: "}),i.jsx(s.span,{style:{"--shiki-dark":"#6CB6FF","--shiki-light":"#005CC5"},children:"0"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" };"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    let a1 "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (game_id, curr_pos), (Piece));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"    assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(a1.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::Rook, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be Rook'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"    assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(a1.color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Color::White, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be white color'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"    assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(a1.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::None, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should have piece'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]})]})})}),`
`,i.jsxs(s.h3,{id:"test_move",children:["test_move",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#test_move",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.p,{children:["Here, after setting up the board, we use ",i.jsx(s.code,{children:"move"})," function in the contract to make moves. Provide the current position, the next position, the player's address, and the game id."]}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"rust,ignore","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    //Move White Pawn to (0,2)"})}),`
`,i.jsx(s.span,{"data-line":"",children:i.jsx(s.span,{children:"    actions_system.move(curr_pos, next_pos, white.into(), game_id);"})})]})})}),`
`,i.jsx(s.p,{children:"Then we check if a White Pawn is at the new position."}),`
`,i.jsx(s.figure,{"data-rehype-pretty-code-figure":"",children:i.jsx(s.pre,{tabIndex:"0","data-language":"c","data-theme":"github-dark-dimmed github-light",children:i.jsxs(s.code,{"data-language":"c","data-theme":"github-dark-dimmed github-light",style:{display:"grid"},children:[i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    let curr_pos "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" next_pos;"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"    let c3 "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" get"}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(world, (game_id, curr_pos), (Piece));"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"    assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(c3.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::Pawn, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be Pawn'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"    assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(c3.color "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"=="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" Color::White, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should be white color piece 2'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]}),`
`,i.jsxs(s.span,{"data-line":"",children:[i.jsx(s.span,{style:{"--shiki-dark":"#DCBDFB","--shiki-light":"#6F42C1"},children:"    assert"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:"(c3.piece_type "}),i.jsx(s.span,{style:{"--shiki-dark":"#F47067","--shiki-light":"#D73A49"},children:"!="}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:" PieceType::None, "}),i.jsx(s.span,{style:{"--shiki-dark":"#96D0FF","--shiki-light":"#032F62"},children:"'should have piece'"}),i.jsx(s.span,{style:{"--shiki-dark":"#ADBAC7","--shiki-light":"#24292E"},children:");"})]})]})})}),`
`,i.jsxs(s.h2,{id:"need-help",children:["Need help?",i.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#need-help",children:i.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,i.jsxs(s.p,{children:["If you're stuck, don't hesitate to ask questions at the ",i.jsx(s.a,{href:"https://discord.gg/akd2yfuRS3",children:"Dojo community"}),"!"]})]})}function t(e={}){const{wrapper:s}={...l(),...e.components};return s?i.jsx(s,{...e,children:i.jsx(h,{...e})}):h(e)}export{t as default,a as frontmatter};
